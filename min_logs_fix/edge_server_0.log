2025-10-09 16:09:06,446 - EdgeServer-0 - INFO - Intelligent Edge Server process 0 starting...
2025-10-09 16:09:07,945 - EdgeServer-0 - INFO - Created a local validation set with 5000 samples for reward calculation.
2025-10-09 16:09:08,057 - EdgeServer-0 - INFO - Instance for Edge Server 0 initialized in 'FedAvg_Baseline' test mode.
2025-10-09 16:09:08,057 - EdgeServer-0 - INFO - Edge Server 0 is ready and waiting at the barrier.
2025-10-09 16:09:08,057 - EdgeServer-0 - INFO - Edge Server 0 passed the barrier, starting test execution.
2025-10-09 16:09:08,058 - EdgeServer-0 - INFO - Edge 0: Successfully connected to Cloud at 127.0.0.1:9201
2025-10-09 16:09:08,058 - EdgeServer-0 - INFO - Edge server 0 is now listening on 127.0.0.1:8100 for the 0 round.
2025-10-09 16:09:08,058 - EdgeServer-0 - INFO - Edge 0: [Persistent Connection Phase] Accepting connections for the entire episode...
2025-10-09 16:09:08,058 - EdgeServer-0 - INFO - Waiting for all 2 assigned clients to connect (timeout: 120s)...
2025-10-09 16:09:10,575 - EdgeServer-0 - INFO - Connection window closed. Waiting for 2 handshake threads to complete...
2025-10-09 16:09:10,588 - EdgeServer-0 - INFO - Edge server 0 is closing its main listening socket.
2025-10-09 16:09:10,588 - EdgeServer-0 - INFO - All 2 clients are now persistently connected.
2025-10-09 16:09:10,588 - EdgeServer-0 - INFO - 
[Edge 0] === Starting Global Round [1/5] ===
2025-10-09 16:10:13,155 - EdgeServer-0 - INFO - Edge 0: Evaluated baseline on validation set. Loss: 2.5530
2025-10-09 16:10:13,155 - EdgeServer-0 - INFO - Edge 0: Starting SFL phase for GR 1, budget f_g_k=1
2025-10-09 16:10:13,155 - EdgeServer-0 - INFO - Requesting status updates from all connected clients...
2025-10-09 16:10:13,166 - EdgeServer-0 - INFO - Finished collecting status updates from clients.
2025-10-09 16:10:13,166 - EdgeServer-0 - INFO - Mapped clients to agent slots: [1, 0, None, None, None]
2025-10-09 16:10:51,506 - EdgeServer-0 - INFO - [Aggregate] Performing FedAvg aggregation for model deltas.
2025-10-09 16:10:51,553 - EdgeServer-0 - INFO - Successfully aggregated 2 model deltas using FedAvg.
2025-10-09 16:10:51,553 - EdgeServer-0 - INFO - Applying aggregated delta to the initial model to form the final updated model for evaluation.
2025-10-09 16:10:51,560 - EdgeServer-0 - INFO - Edge interaction phase completed for GR 1.
2025-10-09 16:11:14,181 - EdgeServer-0 - INFO - Edge 0: Evaluated on validation set. Loss: 2.5530, Accuracy: 9.90%
2025-10-09 16:11:14,182 - EdgeServer-0 - INFO - [Step]: 1 [Reward] Final: 5050.0000 (Velo: 4950.00, Bonus: 100.00, LossRwd: 0.0000, AccPenalty: -0.00, TimePenalty: -0.0000, CostPenalty: -0.0000) | Loss: 2.5530 | Acc: 9.90% (Best: 9.90%)
2025-10-09 16:11:14,182 - EdgeServer-0 - INFO - MAPPO reward for this round: 5050.0000
2025-10-09 16:11:14,182 - EdgeServer-0 - INFO - Aggregated KPIs from 2 clients for this round.
2025-10-09 16:11:14,232 - EdgeServer-0 - INFO - Edge 0: Final report sent to cloud.
2025-10-09 16:11:14,233 - EdgeServer-0 - INFO - Edge 0: Waiting for 'ROUND_COMPLETE' signal from cloud...
2025-10-09 16:11:14,335 - EdgeServer-0 - INFO - 
[Edge 0] === Starting Global Round [2/5] ===
2025-10-09 16:12:19,376 - EdgeServer-0 - INFO - Edge 0: Evaluated baseline on validation set. Loss: 2.5530
2025-10-09 16:12:19,377 - EdgeServer-0 - INFO - Edge 0: Starting SFL phase for GR 2, budget f_g_k=1
2025-10-09 16:12:19,377 - EdgeServer-0 - INFO - Requesting status updates from all connected clients...
2025-10-09 16:12:19,404 - EdgeServer-0 - INFO - Finished collecting status updates from clients.
2025-10-09 16:12:19,404 - EdgeServer-0 - INFO - Mapped clients to agent slots: [1, 0, None, None, None]
2025-10-09 16:12:52,986 - EdgeServer-0 - INFO - [Aggregate] Performing FedAvg aggregation for model deltas.
2025-10-09 16:12:53,024 - EdgeServer-0 - INFO - Successfully aggregated 2 model deltas using FedAvg.
2025-10-09 16:12:53,024 - EdgeServer-0 - INFO - Applying aggregated delta to the initial model to form the final updated model for evaluation.
2025-10-09 16:12:53,031 - EdgeServer-0 - INFO - Edge interaction phase completed for GR 2.
2025-10-09 16:13:15,164 - EdgeServer-0 - INFO - Edge 0: Evaluated on validation set. Loss: 2.5530, Accuracy: 9.90%
2025-10-09 16:13:15,164 - EdgeServer-0 - INFO - [Step]: 2 [Reward] Final: 0.0000 (Velo: 0.00, Bonus: 0.00, LossRwd: 0.0000, AccPenalty: -0.00, TimePenalty: -0.0000, CostPenalty: -0.0000) | Loss: 2.5530 | Acc: 9.90% (Best: 9.90%)
2025-10-09 16:13:15,164 - EdgeServer-0 - INFO - MAPPO reward for this round: 0.0000
2025-10-09 16:13:15,164 - EdgeServer-0 - INFO - Aggregated KPIs from 2 clients for this round.
2025-10-09 16:13:15,219 - EdgeServer-0 - INFO - Edge 0: Final report sent to cloud.
2025-10-09 16:13:15,220 - EdgeServer-0 - INFO - Edge 0: Waiting for 'ROUND_COMPLETE' signal from cloud...
2025-10-09 16:13:15,310 - EdgeServer-0 - INFO - 
[Edge 0] === Starting Global Round [3/5] ===
2025-10-09 16:14:19,915 - EdgeServer-0 - INFO - Edge 0: Evaluated baseline on validation set. Loss: 2.5530
2025-10-09 16:14:19,915 - EdgeServer-0 - INFO - Edge 0: Starting SFL phase for GR 3, budget f_g_k=1
2025-10-09 16:14:19,915 - EdgeServer-0 - INFO - Requesting status updates from all connected clients...
2025-10-09 16:14:19,948 - EdgeServer-0 - INFO - Finished collecting status updates from clients.
2025-10-09 16:14:19,948 - EdgeServer-0 - INFO - Mapped clients to agent slots: [1, 0, None, None, None]
2025-10-09 16:14:52,714 - EdgeServer-0 - INFO - [Aggregate] Performing FedAvg aggregation for model deltas.
2025-10-09 16:14:52,751 - EdgeServer-0 - INFO - Successfully aggregated 2 model deltas using FedAvg.
2025-10-09 16:14:52,751 - EdgeServer-0 - INFO - Applying aggregated delta to the initial model to form the final updated model for evaluation.
2025-10-09 16:14:52,758 - EdgeServer-0 - INFO - Edge interaction phase completed for GR 3.
2025-10-09 16:15:15,044 - EdgeServer-0 - INFO - Edge 0: Evaluated on validation set. Loss: 2.5530, Accuracy: 9.90%
2025-10-09 16:15:15,045 - EdgeServer-0 - INFO - [Step]: 3 [Reward] Final: 0.0000 (Velo: 0.00, Bonus: 0.00, LossRwd: 0.0000, AccPenalty: -0.00, TimePenalty: -0.0000, CostPenalty: -0.0000) | Loss: 2.5530 | Acc: 9.90% (Best: 9.90%)
2025-10-09 16:15:15,045 - EdgeServer-0 - INFO - MAPPO reward for this round: 0.0000
2025-10-09 16:15:15,045 - EdgeServer-0 - INFO - Aggregated KPIs from 2 clients for this round.
2025-10-09 16:15:15,099 - EdgeServer-0 - INFO - Edge 0: Final report sent to cloud.
2025-10-09 16:15:15,099 - EdgeServer-0 - INFO - Edge 0: Waiting for 'ROUND_COMPLETE' signal from cloud...
2025-10-09 16:15:15,188 - EdgeServer-0 - INFO - 
[Edge 0] === Starting Global Round [4/5] ===
2025-10-09 16:16:25,065 - EdgeServer-0 - INFO - Edge 0: Evaluated baseline on validation set. Loss: 2.5530
2025-10-09 16:16:25,066 - EdgeServer-0 - INFO - Edge 0: Starting SFL phase for GR 4, budget f_g_k=1
2025-10-09 16:16:25,066 - EdgeServer-0 - INFO - Requesting status updates from all connected clients...
2025-10-09 16:16:25,105 - EdgeServer-0 - INFO - Finished collecting status updates from clients.
2025-10-09 16:16:25,105 - EdgeServer-0 - INFO - Mapped clients to agent slots: [1, 0, None, None, None]
2025-10-09 16:17:01,703 - EdgeServer-0 - INFO - [Aggregate] Performing FedAvg aggregation for model deltas.
2025-10-09 16:17:01,739 - EdgeServer-0 - INFO - Successfully aggregated 2 model deltas using FedAvg.
2025-10-09 16:17:01,739 - EdgeServer-0 - INFO - Applying aggregated delta to the initial model to form the final updated model for evaluation.
2025-10-09 16:17:01,746 - EdgeServer-0 - INFO - Edge interaction phase completed for GR 4.
2025-10-09 16:17:24,388 - EdgeServer-0 - INFO - Edge 0: Evaluated on validation set. Loss: 2.5530, Accuracy: 9.90%
2025-10-09 16:17:24,388 - EdgeServer-0 - INFO - [Step]: 4 [Reward] Final: 0.0000 (Velo: 0.00, Bonus: 0.00, LossRwd: 0.0000, AccPenalty: -0.00, TimePenalty: -0.0000, CostPenalty: -0.0000) | Loss: 2.5530 | Acc: 9.90% (Best: 9.90%)
2025-10-09 16:17:24,389 - EdgeServer-0 - INFO - MAPPO reward for this round: 0.0000
2025-10-09 16:17:24,389 - EdgeServer-0 - INFO - Aggregated KPIs from 2 clients for this round.
2025-10-09 16:17:24,442 - EdgeServer-0 - INFO - Edge 0: Final report sent to cloud.
2025-10-09 16:17:24,442 - EdgeServer-0 - INFO - Edge 0: Waiting for 'ROUND_COMPLETE' signal from cloud...
2025-10-09 16:17:24,532 - EdgeServer-0 - INFO - 
[Edge 0] === Starting Global Round [5/5] ===
2025-10-09 16:18:30,553 - EdgeServer-0 - INFO - Edge 0: Evaluated baseline on validation set. Loss: 2.5530
2025-10-09 16:18:30,554 - EdgeServer-0 - INFO - Edge 0: Starting SFL phase for GR 5, budget f_g_k=1
2025-10-09 16:18:30,554 - EdgeServer-0 - INFO - Requesting status updates from all connected clients...
2025-10-09 16:18:30,591 - EdgeServer-0 - INFO - Finished collecting status updates from clients.
2025-10-09 16:18:30,591 - EdgeServer-0 - INFO - Mapped clients to agent slots: [1, 0, None, None, None]
2025-10-09 16:19:03,607 - EdgeServer-0 - INFO - [Aggregate] Performing FedAvg aggregation for model deltas.
2025-10-09 16:19:03,646 - EdgeServer-0 - INFO - Successfully aggregated 2 model deltas using FedAvg.
2025-10-09 16:19:03,647 - EdgeServer-0 - INFO - Applying aggregated delta to the initial model to form the final updated model for evaluation.
2025-10-09 16:19:03,653 - EdgeServer-0 - INFO - Edge interaction phase completed for GR 5.
2025-10-09 16:19:26,280 - EdgeServer-0 - INFO - Edge 0: Evaluated on validation set. Loss: 2.5530, Accuracy: 9.90%
2025-10-09 16:19:26,280 - EdgeServer-0 - INFO - [Step]: 5 [Reward] Final: 0.0000 (Velo: 0.00, Bonus: 0.00, LossRwd: 0.0000, AccPenalty: -0.00, TimePenalty: -0.0000, CostPenalty: -0.0000) | Loss: 2.5530 | Acc: 9.90% (Best: 9.90%)
2025-10-09 16:19:26,280 - EdgeServer-0 - INFO - MAPPO reward for this round: 0.0000
2025-10-09 16:19:26,281 - EdgeServer-0 - INFO - Aggregated KPIs from 2 clients for this round.
2025-10-09 16:19:26,337 - EdgeServer-0 - INFO - Edge 0: Final report sent to cloud.
2025-10-09 16:19:26,337 - EdgeServer-0 - INFO - Edge 0: Waiting for 'ROUND_COMPLETE' signal from cloud...
2025-10-09 16:19:26,431 - EdgeServer-0 - INFO - --- Edge 0 completed all 5 test rounds ---
2025-10-09 16:19:26,431 - EdgeServer-0 - INFO - Shutting down server for Edge 0...
2025-10-09 16:19:26,431 - EdgeServer-0 - INFO - Edge 0: Disconnecting all (2) clients to signal end of round.
2025-10-09 16:19:26,431 - EdgeServer-0 - INFO - Server for Edge 0 has been shut down.
2025-10-09 16:19:26,431 - EdgeServer-0 - INFO - Edge Server process 0 is terminating.
